(this.webpackJsonpcard_game=this.webpackJsonpcard_game||[]).push([[0],{12:function(e,a,n){e.exports={cardContainer:"styles_cardContainer__1zRJN",opened:"styles_opened__QAPOV",havePair:"styles_havePair__2O88Y",cardContainer_back_havePair:"styles_cardContainer_back_havePair__3PZ5y",cardContainer_frontWrapper:"styles_cardContainer_frontWrapper__30VLP",cardContainer_backWrapper:"styles_cardContainer_backWrapper__bJZlD",cardContainer_front:"styles_cardContainer_front__3BTRM",cardContainer_back:"styles_cardContainer_back__1EpKb"}},14:function(e,a,n){e.exports={gameContainer:"styles_gameContainer__Jg5Zf",gameContainer_gameInfo_titleContainer:"styles_gameContainer_gameInfo_titleContainer__1ab5g",gameContainer_gameInfo:"styles_gameContainer_gameInfo__2mbQ-",gameContainer_gameInfo_userInfo:"styles_gameContainer_gameInfo_userInfo__XCQ9h",gameContainer_actionsWrapper:"styles_gameContainer_actionsWrapper__Afwmb",gameContainer_cardsContainer:"styles_gameContainer_cardsContainer__wpOp2"}},16:function(e,a,n){e.exports={mainContainer:"styles_mainContainer__xiK3P",mainContainer_form:"styles_mainContainer_form__Hmo4u",mainContainer_form_title:"styles_mainContainer_form_title__kZTLC",mainContainer_form_subtitle:"styles_mainContainer_form_subtitle__1bLWt",mainContainer_form_actionWrapper:"styles_mainContainer_form_actionWrapper__16o5Z"}},25:function(e,a,n){e.exports={inputContainer:"styles_inputContainer__2HHjZ",input:"styles_input__2Ny6U",inputPlaceholder:"styles_inputPlaceholder__lSYpJ"}},30:function(e,a,n){e.exports={mainSectionWrapper:"styles_mainSectionWrapper__2PK8l"}},31:function(e,a,n){e.exports={button:"styles_button__3SsyT"}},43:function(e,a,n){},44:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),c=n(20),s=n.n(c),i={MAIN:"/",GAME:"/game",RESULT:"/result"},o={LOOSE:"Loose",WIN:"WIN"},l=n(32),d=n(2),u=n(11),m=n(30),j=n.n(m),b=n(10),_=n.n(b),O=n(1),f=Object(t.memo)((function(e){var a=e.children;return Object(O.jsx)("section",{className:j.a.mainSectionWrapper,children:a})}));f.displayName="Template",f.propTypes={children:_.a.oneOfType([_.a.arrayOf(_.a.node),_.a.node]).isRequired};var p=f,C=n(16),h=n.n(C),v=n(5),x=n(23),g={userName:localStorage.getItem("username")||"",scores:JSON.parse(localStorage.getItem("allScores"))||[],lastScore:0,gameStatus:""},N=Object(x.b)({name:"game",initialState:g,reducers:{setUsername:function(e,a){var n=a.payload;e.userName=n},addScores:function(e,a){var n=a.payload;e.scores=n},addLastScore:function(e,a){var n=a.payload;e.lastScore=n},setGameStatus:function(e,a){var n=a.payload;e.gameStatus=n},reset:function(e){e.userName="",e.lastScore=0,e.gameStatus=""}}}),y=N.actions,S=y.setUsername,I=y.addScores,k=y.addLastScore,M=y.setGameStatus,P=y.reset,w=N.reducer,E=n(3),G=n(24),R=n(19),W=n(31),L=n.n(W),A=["children","onClick","className","disabled"],T=Object(t.memo)((function(e){var a=e.children,n=e.onClick,t=e.className,r=e.disabled,c=Object(G.a)(e,A);return Object(O.jsx)("button",Object(E.a)(Object(E.a)({className:Object(R.a)(L.a.button,t),onClick:n,disabled:r},c),{},{children:a}))}));T.defaultProps={className:null,disabled:!1,onClick:function(){}},T.displayName="Button";var J=T,z=n(25),U=n.n(z),Z=Object(t.memo)((function(e){var a=e.placeholder,n=e.value,t=e.onChange;return Object(O.jsxs)("label",{className:U.a.inputContainer,children:[Object(O.jsx)("input",{className:U.a.input,value:n,onChange:t,type:"text",placeholder:" "}),Object(O.jsx)("span",{className:U.a.inputPlaceholder,children:a})]})}));Z.displayName="Input";var B=Z,D=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})).userName,a=Object(t.useState)(e),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(v.b)(),o=Object(d.e)().push,l=i,m=Object(t.useCallback)((function(e){var a=e.target.value;return c(a)}),[]),j=Object(t.useCallback)((function(e){e.preventDefault(),s(S(r)),localStorage.setItem("username",r),o(l.GAME)}),[l.GAME,s,o,r]);return Object(O.jsx)(p,{children:Object(O.jsx)("div",{className:h.a.mainContainer,children:Object(O.jsxs)("form",{onSubmit:j,className:h.a.mainContainer_form,children:[Object(O.jsx)("h1",{className:h.a.mainContainer_form_title,children:"Find Pairs"}),Object(O.jsx)("p",{className:h.a.mainContainer_form_subtitle,children:"You need to find 12 pairs of cards to win this game"}),Object(O.jsx)(B,{onChange:m,value:r,placeholder:"Enter your username"}),Object(O.jsx)("div",{className:h.a.mainContainer_form_actionWrapper,children:Object(O.jsx)(J,{type:"submit",disabled:!r.length,children:"start game"})})]})})})}));D.displayName="InitGame";var H=D,Y=n(14),Q=n.n(Y),V=n(15),q=function(e){for(var a,n=e.length;0!==n;){a=Math.floor(Math.random()*n),n--;var t=[e[a],e[n]];e[n]=t[0],e[a]=t[1]}return e},K=function(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e},F=function(e){var a=e.yMin,n=void 0===a?0:a,t=e.yMax,r=void 0===t?4:t,c=e.xMin,s=void 0===c?0:c,i=e.xMax,o=void 0===i?12:i,l=K(n,r),d=K(s,o);return 4===l&&(d=K(0,1)),"".concat(d,",").concat(l)},X=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,a=[];e;){var n=F({});a.includes(n)||(a=[].concat(Object(V.a)(a),[n]),e--)}return a},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,a=X();return Array(e).fill({havePair:!1,isOpen:!1,value:""}).map((function(e,n){return Object(E.a)(Object(E.a)({},e),{},{id:n,value:a[n]})}))},ee=n(12),ae=n.n(ee),ne=Object(t.memo)((function(e){var a=e.havePair,n=e.isOpen,t=e.value,r=e.id,c=e.onClick,s=e.showCards,i=e.cardDimension,o=i.height,l=i.width,d=t.split(","),m=Object(u.a)(d,2),j=m[0],b=m[1];return Object(O.jsxs)("div",{className:Object(R.a)(ae.a.cardContainer,n&&ae.a.opened,a&&ae.a.havePair),onClick:function(){return c({id:r,value:t,isOpen:n})},children:[Object(O.jsx)("div",{className:ae.a.cardContainer_frontWrapper,children:Object(O.jsx)("div",{className:Object(R.a)(ae.a.cardContainer_front,"cardContainer"),style:{backgroundSize:"calc(".concat(l,"px * 13) calc(").concat(o,"px * 5)"),backgroundPosition:"calc(".concat(l,"px * -").concat(s?j:2,") calc(").concat(o,"px * -").concat(s?b:4,")")}})}),Object(O.jsx)("div",{className:ae.a.cardContainer_backWrapper,children:Object(O.jsx)("div",{className:ae.a.cardContainer_back,style:{backgroundSize:"calc(".concat(l,"px * 13) calc(").concat(o,"px * 5)"),backgroundPosition:"calc(".concat(l,"px * -").concat(j,") calc(").concat(o,"px * -").concat(b,")")},children:Object(O.jsx)("div",{className:ae.a.cardContainer_back_havePair,children:Object(O.jsx)("span",{children:"Have pair"})})})})]})}));ne.displayName="Card";var te=ne,re=["id","value"],ce=function(){var e=Object(t.useState)(0),a=Object(u.a)(e,2),n=a[0],r=a[1],c=Object(t.useState)(function(){var e=$(arguments.length>0&&void 0!==arguments[0]?arguments[0]:12),a=JSON.parse(JSON.stringify(e));return q([].concat(Object(V.a)(e),Object(V.a)(a)).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{id:a})})))}()),s=Object(u.a)(c,2),l=s[0],m=s[1],j=Object(v.c)((function(e){return e.game})),b=j.scores,_=j.userName,O=o,f=i,p=Object(d.e)().push,C=Object(v.b)(),h=Object(t.useMemo)((function(){var e=l.filter((function(e){return e.isOpen}));return Boolean(e.length%2===0&&e.some((function(e){return!e.havePair}))||e.length===l.length)}),[l]),x=Object(t.useMemo)((function(){return l.find((function(e){var a=e.havePair,n=e.isOpen;return!1===a&&!0===n}))}),[l]),g=Object(t.useCallback)((function(e){var a=b;return 10===b.length&&(a=b.slice(0,-1)),[].concat(Object(V.a)(a),[{score:n,userName:_,gameStatus:e}]).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{id:a})})).sort((function(e,a){return a.score-e.score}))}),[b,n,_]),N=Object(t.useCallback)((function(){var e=O.LOOSE;l.every((function(e){return e.havePair}))&&(e=O.WIN);var a=g(e);localStorage.setItem("allScores",JSON.stringify(a)),C(M(e)),C(k(n)),C(I(a)),p(f.RESULT)}),[O.LOOSE,O.WIN,f.RESULT,l,C,g,p,n]),y=Object(t.useCallback)((function(e){var a=e.id,n=e.value;if(!e.isOpen){var t=function(e){var a=e.cardId,n=e.cardValue,t=e.setScore,r=e.openedCard;return function(e){return e.map((function(e){var c=e.id,s=e.value,i=Object(G.a)(e,re);return r&&r.value===n&&c===a&&t((function(e){return e+1})),!r||r.value!==n||c!==a&&r.id!==c?c===a?Object(E.a)(Object(E.a)({id:c,value:s},i),{},{isOpen:!0}):Object(E.a)({id:c,value:s},i):Object(E.a)(Object(E.a)({id:c,value:s},i),{},{isOpen:!0,havePair:!0})}))}}({cardId:a,cardValue:n,setScore:r,openedCard:x});m(t)}}),[x]);return Object(t.useEffect)((function(){h&&N()}),[N,h]),{handleCardClick:y,cards:l,score:n}},se=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})).userName,a=Object(t.useState)(!1),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(t.useRef)(),o=Object(d.e)().push,l=i,m=Object(t.useState)({height:0,width:0}),j=Object(u.a)(m,2),b=j[0],_=j[1],f=ce(),C=f.handleCardClick,h=f.cards,x=f.score,g=Object(t.useCallback)((function(){return c((function(e){return!e}))}),[]),N=function(){return function(e){var a=e.cardContainerRef,n=void 0===a?null:a,t=e.setCardDimensions,r=void 0===t?function(){}:t;if(n.current){var c=n.current.querySelector(".cardContainer").getBoundingClientRect();r({width:c.width,height:c.height})}}({cardContainerRef:s,setCardDimensions:_})};return Object(t.useEffect)((function(){return N(),window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[]),e.length?Object(O.jsx)(p,{children:Object(O.jsxs)("div",{className:Q.a.gameContainer,children:[Object(O.jsxs)("div",{className:Q.a.gameContainer_gameInfo,children:[Object(O.jsx)("div",{className:Q.a.gameContainer_gameInfo_titleContainer,children:Object(O.jsx)("h1",{children:"Find Pairs"})}),Object(O.jsx)("p",{children:"You need to find 12 pairs of cards to win this game"}),Object(O.jsxs)("div",{className:Q.a.gameContainer_gameInfo_userInfo,children:[Object(O.jsxs)("span",{children:["USER NAME: ",e]}),Object(O.jsxs)("span",{children:["SCORE: ",x]})]})]}),Object(O.jsx)("div",{className:Q.a.gameContainer_actionsWrapper,children:Object(O.jsx)(J,{onClick:g,children:"show cards"})}),Object(O.jsx)("div",{className:Q.a.gameContainer_cardsContainer,ref:s,children:h.map((function(e){return Object(O.jsx)(te,Object(E.a)(Object(E.a)({},e),{},{onClick:C,cardDimension:b,showCards:r}),e.id)}))})]})}):(o(l.MAIN),null)}));se.displayName="Game";var ie=se,oe=n(8),le=n.n(oe),de=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})),a=e.userName,n=e.scores,r=e.lastScore,c=e.gameStatus,s=Object(v.b)(),o=Object(d.e)().push,l=i,u=Object(t.useCallback)((function(){o(l.GAME)}),[l.GAME,o]),m=Object(t.useCallback)((function(){localStorage.removeItem("username"),s(P()),o(l.MAIN)}),[l.MAIN,s,o]);return Object(O.jsx)(p,{children:Object(O.jsx)("section",{className:le.a.scoresContainer,children:Object(O.jsxs)("div",{className:le.a.scoresContainer_wrapper,children:[Object(O.jsx)("h1",{className:le.a.scoresContainer_mainTitle,children:"Scores table"}),Boolean(c.length)&&Object(O.jsxs)("div",{className:le.a.scoresContainer_lastGameInfoContainer,children:[Object(O.jsx)("h2",{className:le.a.scoresContainer_lastGameInfoContainer_title,children:c}),Object(O.jsxs)("div",{className:le.a.scoresContainer_lastGameInfoContainer_info,children:[Object(O.jsxs)("p",{children:["Username: ",a]}),Object(O.jsxs)("p",{children:["score: ",r]})]})]}),Object(O.jsx)("div",{className:le.a.table,children:n.map((function(e){var a=e.score,n=e.userName,t=e.gameStatus,r=e.id;return Object(O.jsxs)("div",{className:le.a.tableRow,children:[Object(O.jsx)("div",{className:le.a.tableCell,children:n}),Object(O.jsx)("div",{className:le.a.tableCell,children:t}),Object(O.jsx)("div",{className:le.a.tableCell,children:a})]},r)}))}),Object(O.jsxs)("div",{className:le.a.scoresContainer_lastGameInfoContainer_actions,children:[Object(O.jsx)(J,{onClick:m,children:"Reset"}),Object(O.jsx)(J,{onClick:u,children:"Repeat"})]})]})})})}));de.displayName="Result";var ue=de,me=Object(t.memo)((function(){var e=i;return Object(O.jsxs)(l.a,{children:[Object(O.jsx)(d.a,{path:e.RESULT,exact:!0,children:Object(O.jsx)(ue,{})}),Object(O.jsx)(d.a,{path:e.GAME,exact:!0,children:Object(O.jsx)(ie,{})}),Object(O.jsx)(d.a,{path:e.MAIN,exact:!0,children:Object(O.jsx)(H,{})})]})}));me.displayName="Routes";var je=me,be=(n(43),function(){return Object(O.jsx)(je,{})}),_e=Object(x.a)({reducer:{game:w}});s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v.a,{store:_e,children:Object(O.jsx)(be,{})})}),document.getElementById("root"))},8:function(e,a,n){e.exports={scoresContainer:"styles_scoresContainer__35zdf",scoresContainer_wrapper:"styles_scoresContainer_wrapper__3sLHz",scoresContainer_mainTitle:"styles_scoresContainer_mainTitle__1Suq8",scoresContainer_lastGameInfoContainer_title:"styles_scoresContainer_lastGameInfoContainer_title__uZsYp",scoresContainer_lastGameInfoContainer_info:"styles_scoresContainer_lastGameInfoContainer_info__4wTXG",scoresContainer_lastGameInfoContainer_actions:"styles_scoresContainer_lastGameInfoContainer_actions__2gvul",table:"styles_table__2oJzA",tableRow:"styles_tableRow__ryQzm",tableCell:"styles_tableCell__18xEL"}}},[[44,1,2]]]);
//# sourceMappingURL=main.6c78c608.chunk.js.map