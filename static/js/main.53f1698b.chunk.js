(this.webpackJsonpcard_game=this.webpackJsonpcard_game||[]).push([[0],{10:function(e,a,n){e.exports={cardContainer:"styles_cardContainer__SLBDg",opened:"styles_opened__dkW9Z",havePair:"styles_havePair__1FRPg",cardContainer_back_havePair:"styles_cardContainer_back_havePair__1Yd8t",cardContainer_frontWrapper:"styles_cardContainer_frontWrapper__5oW-l",cardContainer_backWrapper:"styles_cardContainer_backWrapper__1sw2e",cardContainer_front:"styles_cardContainer_front__2s-GB",cardContainer_back:"styles_cardContainer_back__3TqEv"}},11:function(e,a,n){e.exports={gameContainer:"styles_gameContainer__1Sl0y",gameContainer_gameInfo_titleContainer:"styles_gameContainer_gameInfo_titleContainer__36g0Z",gameContainer_gameInfo:"styles_gameContainer_gameInfo__3ddrQ",gameContainer_gameInfo_userInfo:"styles_gameContainer_gameInfo_userInfo__37oWP",gameContainer_actionsWrapper:"styles_gameContainer_actionsWrapper__1-yUE",gameContainer_cardsContainer:"styles_gameContainer_cardsContainer__1pjPN"}},13:function(e,a,n){e.exports={mainContainer:"styles_mainContainer__3H92C",mainContainer_form:"styles_mainContainer_form__2DYm2",mainContainer_form_title:"styles_mainContainer_form_title__2xeCk",mainContainer_form_subtitle:"styles_mainContainer_form_subtitle__25AJe",mainContainer_form_actionWrapper:"styles_mainContainer_form_actionWrapper__10niC"}},22:function(e,a,n){e.exports={inputContainer:"styles_inputContainer__3VC5P",input:"styles_input__26KIr",inputPlaceholder:"styles_inputPlaceholder__22kHw"}},28:function(e,a,n){e.exports={mainSectionWrapper:"styles_mainSectionWrapper__tW_-z"}},29:function(e,a,n){e.exports={button:"styles_button__3Q1oU"}},41:function(e,a,n){},42:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),c=n(17),s=n.n(c),i={MAIN:"/",GAME:"/game",RESULT:"/result"},o={LOOSE:"Loose",WIN:"WIN"},l=n(30),d=n(2),u=n(9),m=n(28),j=n.n(m),_=n(8),b=n.n(_),O=n(1),f=Object(t.memo)((function(e){var a=e.children;return Object(O.jsx)("section",{className:j.a.mainSectionWrapper,children:a})}));f.displayName="Template",f.propTypes={children:b.a.oneOfType([b.a.arrayOf(b.a.node),b.a.node]).isRequired};var C=f,p=n(13),h=n.n(p),v=n(4),g=n(20),x={userName:localStorage.getItem("username")||"",scores:JSON.parse(localStorage.getItem("allScores"))||[],lastScore:0,gameStatus:""},N=Object(g.b)({name:"game",initialState:x,reducers:{setUsername:function(e,a){var n=a.payload;e.userName=n},addScores:function(e,a){var n=a.payload;e.scores=n},addLastScore:function(e,a){var n=a.payload;e.lastScore=n},setGameStatus:function(e,a){var n=a.payload;e.gameStatus=n},reset:function(e){e.userName="",e.lastScore=0,e.gameStatus=""}}}),y=N.actions,S=y.setUsername,I=y.addScores,k=y.addLastScore,M=y.setGameStatus,W=y.reset,w=N.reducer,E=n(3),P=n(21),G=n(16),R=n(29),A=n.n(R),L=Object(t.memo)((function(e){var a=e.children,n=e.onClick,t=e.className,r=e.disabled,c=Object(P.a)(e,["children","onClick","className","disabled"]);return Object(O.jsx)("button",Object(E.a)(Object(E.a)({className:Object(G.a)(A.a.button,t),onClick:n,disabled:r},c),{},{children:a}))}));L.defaultProps={className:null,disabled:!1,onClick:function(){}},L.displayName="Button";var T=L,U=n(22),B=n.n(U),D=Object(t.memo)((function(e){var a=e.placeholder,n=e.value,t=e.onChange;return Object(O.jsxs)("label",{className:B.a.inputContainer,children:[Object(O.jsx)("input",{className:B.a.input,value:n,onChange:t,type:"text",placeholder:" "}),Object(O.jsx)("span",{className:B.a.inputPlaceholder,children:a})]})}));D.displayName="Input";var J=D,q=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})).userName,a=Object(t.useState)(e),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(v.b)(),o=Object(d.e)().push,l=i,m=Object(t.useCallback)((function(e){var a=e.target.value;return c(a)}),[]),j=Object(t.useCallback)((function(e){e.preventDefault(),s(S(r)),localStorage.setItem("username",r),o(l.GAME)}),[l.GAME,s,o,r]);return Object(O.jsx)(C,{children:Object(O.jsx)("div",{className:h.a.mainContainer,children:Object(O.jsxs)("form",{onSubmit:j,className:h.a.mainContainer_form,children:[Object(O.jsx)("h1",{className:h.a.mainContainer_form_title,children:"Find Pairs"}),Object(O.jsx)("p",{className:h.a.mainContainer_form_subtitle,children:"You need to find 12 pairs of cards to win this game"}),Object(O.jsx)(J,{onChange:m,value:r,placeholder:"Enter your username"}),Object(O.jsx)("div",{className:h.a.mainContainer_form_actionWrapper,children:Object(O.jsx)(T,{type:"submit",disabled:!r.length,children:"start game"})})]})})})}));q.displayName="InitGame";var z=q,V=n(11),Y=n.n(V),F=n(12),H=function(e){for(var a,n=e.length;0!==n;){a=Math.floor(Math.random()*n),n--;var t=[e[a],e[n]];e[n]=t[0],e[a]=t[1]}return e},Z=function(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e},K=function(e){var a=e.yMin,n=void 0===a?0:a,t=e.yMax,r=void 0===t?4:t,c=e.xMin,s=void 0===c?0:c,i=e.xMax,o=void 0===i?12:i,l=Z(n,r),d=Z(s,o);return 4===l&&(d=Z(0,1)),"".concat(d,",").concat(l)},Q=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,a=[];e;){var n=K({});a.includes(n)||(a=[].concat(Object(F.a)(a),[n]),e--)}return a},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,a=Q();return Array(e).fill({havePair:!1,isOpen:!1,value:""}).map((function(e,n){return Object(E.a)(Object(E.a)({},e),{},{id:n,value:a[n]})}))},$=n(10),ee=n.n($),ae=Object(t.memo)((function(e){var a=e.havePair,n=e.isOpen,t=e.value,r=e.id,c=e.onClick,s=e.showCards,i=e.cardDimension,o=i.height,l=i.width,d=t.split(","),m=Object(u.a)(d,2),j=m[0],_=m[1];return Object(O.jsxs)("div",{className:Object(G.a)(ee.a.cardContainer,n&&ee.a.opened,a&&ee.a.havePair),onClick:function(){return c({id:r,value:t,isOpen:n})},children:[Object(O.jsx)("div",{className:ee.a.cardContainer_frontWrapper,children:Object(O.jsx)("div",{className:Object(G.a)(ee.a.cardContainer_front,"cardContainer"),style:{backgroundSize:"calc(".concat(l,"px * 13) calc(").concat(o,"px * 5)"),backgroundPosition:"calc(".concat(l,"px * -").concat(s?j:2,") calc(").concat(o,"px * -").concat(s?_:4,")")}})}),Object(O.jsx)("div",{className:ee.a.cardContainer_backWrapper,children:Object(O.jsx)("div",{className:ee.a.cardContainer_back,style:{backgroundSize:"calc(".concat(l,"px * 13) calc(").concat(o,"px * 5)"),backgroundPosition:"calc(".concat(l,"px * -").concat(j,") calc(").concat(o,"px * -").concat(_,")")},children:Object(O.jsx)("div",{className:ee.a.cardContainer_back_havePair,children:Object(O.jsx)("span",{children:"Have pair"})})})})]})}));ae.displayName="Card";var ne=ae,te=function(){var e=Object(t.useState)(0),a=Object(u.a)(e,2),n=a[0],r=a[1],c=Object(t.useState)(function(){var e=X(arguments.length>0&&void 0!==arguments[0]?arguments[0]:12),a=JSON.parse(JSON.stringify(e));return H([].concat(Object(F.a)(e),Object(F.a)(a)).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{id:a})})))}()),s=Object(u.a)(c,2),l=s[0],m=s[1],j=Object(v.c)((function(e){return e.game})),_=j.scores,b=j.userName,O=o,f=i,C=Object(d.e)().push,p=Object(v.b)(),h=Object(t.useMemo)((function(){var e=l.filter((function(e){return e.isOpen}));return Boolean(e.length%2===0&&e.some((function(e){return!e.havePair}))||e.length===l.length)}),[l]),g=Object(t.useMemo)((function(){return l.find((function(e){var a=e.havePair,n=e.isOpen;return!1===a&&!0===n}))}),[l]),x=Object(t.useCallback)((function(e){var a=_;return 10===_.length&&(a=_.slice(0,-1)),[].concat(Object(F.a)(a),[{score:n,userName:b,gameStatus:e}]).map((function(e,a){return Object(E.a)(Object(E.a)({},e),{},{id:a})})).sort((function(e,a){return a.score-e.score}))}),[_,n,b]),N=Object(t.useCallback)((function(){var e=O.LOOSE;l.every((function(e){return e.havePair}))&&(e=O.WIN);var a=x(e);localStorage.setItem("allScores",JSON.stringify(a)),p(M(e)),p(k(n)),p(I(a)),C(f.RESULT)}),[O.LOOSE,O.WIN,f.RESULT,l,p,x,C,n]),y=Object(t.useCallback)((function(e){var a=e.id,n=e.value;if(!e.isOpen){var t=function(e){var a=e.cardId,n=e.cardValue,t=e.setScore,r=e.openedCard;return function(e){return e.map((function(e){var c=e.id,s=e.value,i=Object(P.a)(e,["id","value"]);return r&&r.value===n&&c===a&&t((function(e){return e+1})),!r||r.value!==n||c!==a&&r.id!==c?c===a?Object(E.a)(Object(E.a)({id:c,value:s},i),{},{isOpen:!0}):Object(E.a)({id:c,value:s},i):Object(E.a)(Object(E.a)({id:c,value:s},i),{},{isOpen:!0,havePair:!0})}))}}({cardId:a,cardValue:n,setScore:r,openedCard:g});m(t)}}),[g]);return Object(t.useEffect)((function(){h&&N()}),[N,h]),{handleCardClick:y,cards:l,score:n}},re=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})).userName,a=Object(t.useState)(!1),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(t.useRef)(),o=Object(d.e)().push,l=i,m=Object(t.useState)({height:0,width:0}),j=Object(u.a)(m,2),_=j[0],b=j[1],f=te(),p=f.handleCardClick,h=f.cards,g=f.score,x=Object(t.useCallback)((function(){return c((function(e){return!e}))}),[]),N=function(){return function(e){var a=e.cardContainerRef,n=void 0===a?null:a,t=e.setCardDimensions,r=void 0===t?function(){}:t;if(n.current){var c=n.current.querySelector(".cardContainer").getBoundingClientRect();r({width:c.width,height:c.height})}}({cardContainerRef:s,setCardDimensions:b})};return Object(t.useEffect)((function(){return N(),window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[]),e.length?Object(O.jsx)(C,{children:Object(O.jsxs)("div",{className:Y.a.gameContainer,children:[Object(O.jsxs)("div",{className:Y.a.gameContainer_gameInfo,children:[Object(O.jsx)("div",{className:Y.a.gameContainer_gameInfo_titleContainer,children:Object(O.jsx)("h1",{children:"Find Pairs"})}),Object(O.jsx)("p",{children:"You need to find 12 pairs of cards to win this game"}),Object(O.jsxs)("div",{className:Y.a.gameContainer_gameInfo_userInfo,children:[Object(O.jsxs)("span",{children:["USER NAME: ",e]}),Object(O.jsxs)("span",{children:["SCORE: ",g]})]})]}),Object(O.jsx)("div",{className:Y.a.gameContainer_actionsWrapper,children:Object(O.jsx)(T,{onClick:x,children:"show cards"})}),Object(O.jsx)("div",{className:Y.a.gameContainer_cardsContainer,ref:s,children:h.map((function(e){return Object(O.jsx)(ne,Object(E.a)(Object(E.a)({},e),{},{onClick:p,cardDimension:_,showCards:r}),e.id)}))})]})}):(o(l.MAIN),null)}));re.displayName="Game";var ce=re,se=n(6),ie=n.n(se),oe=Object(t.memo)((function(){var e=Object(v.c)((function(e){return e.game})),a=e.userName,n=e.scores,r=e.lastScore,c=e.gameStatus,s=Object(v.b)(),o=Object(d.e)().push,l=i,u=Object(t.useCallback)((function(){o(l.GAME)}),[l.GAME,o]),m=Object(t.useCallback)((function(){localStorage.removeItem("username"),s(W()),o(l.MAIN)}),[l.MAIN,s,o]);return Object(O.jsx)(C,{children:Object(O.jsx)("section",{className:ie.a.scoresContainer,children:Object(O.jsxs)("div",{className:ie.a.scoresContainer_wrapper,children:[Object(O.jsx)("h1",{className:ie.a.scoresContainer_mainTitle,children:"Scores table"}),Boolean(c.length)&&Object(O.jsxs)("div",{className:ie.a.scoresContainer_lastGameInfoContainer,children:[Object(O.jsx)("h2",{className:ie.a.scoresContainer_lastGameInfoContainer_title,children:c}),Object(O.jsxs)("div",{className:ie.a.scoresContainer_lastGameInfoContainer_info,children:[Object(O.jsxs)("p",{children:["Username: ",a]}),Object(O.jsxs)("p",{children:["score: ",r]})]})]}),Object(O.jsx)("div",{className:ie.a.table,children:n.map((function(e){var a=e.score,n=e.userName,t=e.gameStatus,r=e.id;return Object(O.jsxs)("div",{className:ie.a.tableRow,children:[Object(O.jsx)("div",{className:ie.a.tableCell,children:n}),Object(O.jsx)("div",{className:ie.a.tableCell,children:t}),Object(O.jsx)("div",{className:ie.a.tableCell,children:a})]},r)}))}),Object(O.jsxs)("div",{className:ie.a.scoresContainer_lastGameInfoContainer_actions,children:[Object(O.jsx)(T,{onClick:m,children:"Reset"}),Object(O.jsx)(T,{onClick:u,children:"Repeat"})]})]})})})}));oe.displayName="Result";var le=oe,de=Object(t.memo)((function(){var e=i;return Object(O.jsxs)(l.a,{children:[Object(O.jsx)(d.a,{path:e.RESULT,exact:!0,children:Object(O.jsx)(le,{})}),Object(O.jsx)(d.a,{path:e.GAME,exact:!0,children:Object(O.jsx)(ce,{})}),Object(O.jsx)(d.a,{path:e.MAIN,exact:!0,children:Object(O.jsx)(z,{})})]})}));de.displayName="Routes";var ue=de,me=(n(41),function(){return Object(O.jsx)(ue,{})}),je=Object(g.a)({reducer:{game:w}});s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v.a,{store:je,children:Object(O.jsx)(me,{})})}),document.getElementById("root"))},6:function(e,a,n){e.exports={scoresContainer:"styles_scoresContainer__1e26Z",scoresContainer_wrapper:"styles_scoresContainer_wrapper__i5_73",scoresContainer_mainTitle:"styles_scoresContainer_mainTitle__1OAqw",scoresContainer_lastGameInfoContainer_title:"styles_scoresContainer_lastGameInfoContainer_title__1_CAu",scoresContainer_lastGameInfoContainer_info:"styles_scoresContainer_lastGameInfoContainer_info__Wp1y0",scoresContainer_lastGameInfoContainer_actions:"styles_scoresContainer_lastGameInfoContainer_actions__3I8TM",table:"styles_table__3puuO",tableRow:"styles_tableRow__-KgjW",tableCell:"styles_tableCell__3qgnV"}}},[[42,1,2]]]);
//# sourceMappingURL=main.53f1698b.chunk.js.map